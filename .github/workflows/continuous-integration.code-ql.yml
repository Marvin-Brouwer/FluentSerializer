name: "Continuous integration - GitHub Static Quality Analyses"
on: workflow_call

jobs:
  code-ql:
    name: "GitHub Static Quality Analyses"
    runs-on: ubuntu-latest
    steps:
    ###
    # Checkout repository
    ###
    - name: Checkout repository
      uses: actions/checkout@v3
    ###
    # ðŸ§° Initialize CodeQL
    #
    # Initializes the CodeQL tools for scanning.
    ###
    - name: ðŸ§° Initialize CodeQL
      uses: github/codeql-action/init@v2
      with:
        config-file: '${{github.workspace}}/.github/codeql/codeql-config.yml'
        languages: 'csharp'
    ###
    # ðŸ—ƒ Restore 'library-binaries'
    ###
    - name: ðŸ—ƒ Restore 'library-binaries'
      uses: actions/download-artifact@v3
      with:
        name: library-binaries
        path: ./src
    ###
    # ðŸ—ƒ Restore 'github-codeql'
    ###
    - name: ðŸ—ƒ Restore 'github-codeql'
      uses: actions/download-artifact@v3
      with:
        name: github-codeql
        path: /home/runner/work/_temp/codeql_databases/csharp
    ###
    # ðŸ”¬ Perform CodeQL Analysis
    ###
    - name: ðŸ”¬ Perform CodeQL Analysis
      uses: github/codeql-action/analyze@v2